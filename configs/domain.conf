[ req ]
default_bits = 2048
default_keyfile = ../certs/domains/{hostname}.key
encrypt_key = no
default_md = sha256
prompt = no
utf8 = yes
distinguished_name = certificate_distinguished_name
req_extensions = my_extensions

[ certificate_distinguished_name ]
C=CH
ST=Zurich
L=Zurich
O={hostname}
OU={hostname}
CN={hostname}

[ my_extensions ]
keyUsage=critical, digitalSignature, keyEncipherment
basicConstraints=critical,CA:FALSE
extendedKeyUsage=critical,serverAuth
subjectAltName=@certificate_alt_names
subjectKeyIdentifier = hash

[ certificate_alt_names ]
DNS.1 = *.{hostname}
DNS.2 = {hostname}
IP.1 = 127.0.0.1
